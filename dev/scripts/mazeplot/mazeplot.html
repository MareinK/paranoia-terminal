<html>

<body>
    <canvas id="canvas"></canvas>
    <script type="text/javascript" language="javascript">
        var maze = [
            { y: 0, x: 2 },
            { y: 0, x: 4 },
            { y: 0, x: 5 },
            { y: 0, x: 9 },
            { y: 0, x: 10 },
            { y: 0, x: 12 },
            { y: 0, x: 14 },
            { y: 0, x: 19 },
            { y: 0, x: 20 },
            { y: 0, x: 27 },
            { y: 0, x: 28 },
            { y: 1, x: 3 },
            { y: 1, x: 4 },
            { y: 1, x: 11 },
            { y: 1, x: 12 },
            { y: 1, x: 14 },
            { y: 1, x: 16 },
            { y: 1, x: 21 },
            { y: 1, x: 22 },
            { y: 1, x: 24 },
            { y: 1, x: 27 },
            { y: 1, x: 28 },
            { y: 2, x: 1 },
            { y: 2, x: 2 },
            { y: 2, x: 7 },
            { y: 2, x: 9 },
            { y: 2, x: 12 },
            { y: 2, x: 13 },
            { y: 2, x: 15 },
            { y: 2, x: 25 },
            { y: 2, x: 26 },
            { y: 2, x: 28 },
            { y: 3, x: 15 },
            { y: 3, x: 16 },
            { y: 3, x: 20 },
            { y: 3, x: 22 },
            { y: 3, x: 25 },
            { y: 3, x: 28 },
            { y: 3, x: 29 },
            { y: 3, x: 30 },
            { y: 4, x: 8 },
            { y: 4, x: 9 },
            { y: 4, x: 10 },
            { y: 4, x: 11 },
            { y: 4, x: 12 },
            { y: 4, x: 13 },
            { y: 4, x: 20 },
            { y: 4, x: 21 },
            { y: 4, x: 24 },
            { y: 4, x: 28 },
            { y: 4, x: 29 },
            { y: 5, x: 0 },
            { y: 5, x: 1 },
            { y: 5, x: 2 },
            { y: 5, x: 3 },
            { y: 5, x: 6 },
            { y: 5, x: 8 },
            { y: 5, x: 14 },
            { y: 5, x: 19 },
            { y: 5, x: 21 },
            { y: 5, x: 22 },
            { y: 5, x: 23 },
            { y: 5, x: 25 },
            { y: 5, x: 26 },
            { y: 5, x: 28 },
            { y: 5, x: 29 },
            { y: 6, x: 6 },
            { y: 6, x: 7 },
            { y: 6, x: 10 },
            { y: 6, x: 15 },
            { y: 6, x: 19 },
            { y: 6, x: 26 },
            { y: 6, x: 27 },
            { y: 7, x: 0 },
            { y: 7, x: 7 },
            { y: 7, x: 10 },
            { y: 7, x: 11 },
            { y: 7, x: 15 },
            { y: 7, x: 17 },
            { y: 7, x: 18 },
            { y: 7, x: 24 },
            { y: 7, x: 25 },
            { y: 7, x: 27 },
            { y: 7, x: 30 },
            { y: 8, x: 3 },
            { y: 8, x: 7 },
            { y: 8, x: 10 },
            { y: 8, x: 11 },
            { y: 8, x: 13 },
            { y: 8, x: 14 },
            { y: 8, x: 15 },
            { y: 8, x: 23 },
            { y: 8, x: 24 },
            { y: 8, x: 25 },
            { y: 8, x: 30 },
            { y: 9, x: 1 },
            { y: 9, x: 2 },
            { y: 9, x: 5 },
            { y: 9, x: 12 },
            { y: 9, x: 13 },
            { y: 9, x: 17 },
            { y: 9, x: 18 },
            { y: 9, x: 22 },
            { y: 9, x: 23 },
            { y: 9, x: 26 },
            { y: 10, x: 8 },
            { y: 10, x: 15 },
            { y: 10, x: 19 },
            { y: 10, x: 23 },
            { y: 10, x: 27 },
            { y: 10, x: 30 },
            { y: 11, x: 2 },
            { y: 11, x: 3 },
            { y: 11, x: 6 },
            { y: 11, x: 12 },
            { y: 11, x: 14 },
            { y: 11, x: 16 },
            { y: 11, x: 22 },
            { y: 11, x: 28 },
            { y: 11, x: 30 },
            { y: 12, x: 0 },
            { y: 12, x: 2 },
            { y: 12, x: 12 },
            { y: 12, x: 14 },
            { y: 12, x: 16 },
            { y: 12, x: 17 },
            { y: 12, x: 18 },
            { y: 12, x: 26 },
            { y: 12, x: 27 },
            { y: 12, x: 28 },
            { y: 13, x: 1 },
            { y: 13, x: 2 },
            { y: 13, x: 3 },
            { y: 13, x: 9 },
            { y: 13, x: 13 },
            { y: 13, x: 14 },
            { y: 13, x: 16 },
            { y: 13, x: 17 },
            { y: 13, x: 18 },
            { y: 13, x: 23 },
            { y: 13, x: 25 },
            { y: 13, x: 26 },
            { y: 13, x: 29 },
            { y: 13, x: 30 },
            { y: 14, x: 0 },
            { y: 14, x: 5 },
            { y: 14, x: 6 },
            { y: 14, x: 9 },
            { y: 14, x: 12 },
            { y: 14, x: 13 },
            { y: 14, x: 16 },
            { y: 14, x: 20 },
            { y: 14, x: 23 },
            { y: 14, x: 26 },
            { y: 14, x: 27 },
            { y: 14, x: 30 },
            { y: 15, x: 0 },
            { y: 15, x: 6 },
            { y: 15, x: 7 },
            { y: 15, x: 10 },
            { y: 15, x: 12 },
            { y: 15, x: 16 },
            { y: 15, x: 19 },
            { y: 15, x: 20 },
            { y: 15, x: 21 },
            { y: 15, x: 27 },
            { y: 15, x: 28 },
            { y: 15, x: 29 },
            { y: 15, x: 30 },
            { y: 16, x: 1 },
            { y: 16, x: 6 },
            { y: 16, x: 15 },
            { y: 16, x: 17 },
            { y: 16, x: 19 },
            { y: 16, x: 20 },
            { y: 16, x: 21 },
            { y: 16, x: 22 },
            { y: 16, x: 24 },
            { y: 16, x: 26 },
            { y: 16, x: 29 },
            { y: 17, x: 5 },
            { y: 17, x: 6 },
            { y: 17, x: 8 },
            { y: 17, x: 9 },
            { y: 17, x: 10 },
            { y: 17, x: 12 },
            { y: 17, x: 15 },
            { y: 17, x: 23 },
            { y: 17, x: 26 },
            { y: 17, x: 27 },
            { y: 17, x: 28 },
            { y: 17, x: 29 },
            { y: 18, x: 0 },
            { y: 18, x: 2 },
            { y: 18, x: 3 },
            { y: 18, x: 6 },
            { y: 18, x: 8 },
            { y: 18, x: 10 },
            { y: 18, x: 13 },
            { y: 18, x: 15 },
            { y: 18, x: 16 },
            { y: 18, x: 19 },
            { y: 18, x: 25 },
            { y: 18, x: 27 },
            { y: 19, x: 2 },
            { y: 19, x: 9 },
            { y: 19, x: 10 },
            { y: 19, x: 12 },
            { y: 19, x: 18 },
            { y: 19, x: 20 },
            { y: 19, x: 28 },
            { y: 20, x: 3 },
            { y: 20, x: 11 },
            { y: 20, x: 16 },
            { y: 20, x: 22 },
            { y: 20, x: 28 },
            { y: 21, x: 1 },
            { y: 21, x: 11 },
            { y: 21, x: 12 },
            { y: 21, x: 14 },
            { y: 21, x: 15 },
            { y: 21, x: 21 },
            { y: 21, x: 26 },
            { y: 21, x: 28 },
            { y: 21, x: 30 },
            { y: 22, x: 0 },
            { y: 22, x: 4 },
            { y: 22, x: 6 },
            { y: 22, x: 13 },
            { y: 22, x: 14 },
            { y: 22, x: 23 },
            { y: 22, x: 27 },
            { y: 22, x: 28 },
            { y: 22, x: 30 },
            { y: 23, x: 4 },
            { y: 23, x: 5 },
            { y: 23, x: 6 },
            { y: 23, x: 7 },
            { y: 23, x: 8 },
            { y: 23, x: 9 },
            { y: 23, x: 10 },
            { y: 23, x: 14 },
            { y: 23, x: 17 },
            { y: 23, x: 19 },
            { y: 23, x: 23 },
            { y: 23, x: 25 },
            { y: 23, x: 28 },
            { y: 23, x: 29 },
            { y: 23, x: 30 },
            { y: 24, x: 0 },
            { y: 24, x: 4 },
            { y: 24, x: 6 },
            { y: 24, x: 9 },
            { y: 24, x: 10 },
            { y: 24, x: 11 },
            { y: 24, x: 15 },
            { y: 24, x: 16 },
            { y: 24, x: 21 },
            { y: 24, x: 25 },
            { y: 25, x: 0 },
            { y: 25, x: 2 },
            { y: 25, x: 5 },
            { y: 25, x: 7 },
            { y: 25, x: 12 },
            { y: 25, x: 13 },
            { y: 25, x: 16 },
            { y: 25, x: 18 },
            { y: 25, x: 30 },
            { y: 26, x: 0 },
            { y: 26, x: 4 },
            { y: 26, x: 6 },
            { y: 26, x: 9 },
            { y: 26, x: 23 },
            { y: 26, x: 24 },
            { y: 26, x: 26 },
            { y: 27, x: 1 },
            { y: 27, x: 3 },
            { y: 27, x: 7 },
            { y: 27, x: 10 },
            { y: 27, x: 11 },
            { y: 27, x: 13 },
            { y: 27, x: 14 },
            { y: 27, x: 19 },
            { y: 27, x: 28 },
            { y: 27, x: 29 },
            { y: 28, x: 1 },
            { y: 28, x: 2 },
            { y: 28, x: 13 },
            { y: 28, x: 14 },
            { y: 28, x: 17 },
            { y: 28, x: 20 },
            { y: 28, x: 22 },
            { y: 28, x: 27 },
            { y: 28, x: 30 },
            { y: 29, x: 6 },
            { y: 29, x: 7 },
            { y: 29, x: 8 },
            { y: 29, x: 13 },
            { y: 29, x: 21 },
            { y: 29, x: 23 },
            { y: 29, x: 24 },
            { y: 29, x: 28 },
            { y: 29, x: 29 },
            { y: 29, x: 30 },
            { y: 30, x: 2 },
            { y: 30, x: 6 },
            { y: 30, x: 12 },
            { y: 30, x: 14 },
            { y: 30, x: 17 },
            { y: 30, x: 20 },
            { y: 30, x: 22 },

        ]

        var steps = [
            'view',
            'north',
            'east',
            'south',
            'west',
            'view',
            'north',
            'east',
            'south',
            'west',
            'view',
            'north',
            'east',
            'south',
            'west',
            'view',
            'view',
            'north',
            'south',
            'south',
            'south',
            'west',
            'west',
            'north',
            'south',
            'south',
            'south',
            'south',
            'south',
            'south',
            'west',
            'east',
            'east',
            'west',
            'west',
            'west',
            'view',
            'north',
            'west',
            'south',
            'west',
            'south',
            'south',
            'west',
            'south',
            'south',
            'south',
            'west',
            'east',
            'north',
            'west',
            'east',
            'north',
            'east',
            'north',
            'east',
            'eat',
            'east',
            'south',
            'south',
            'west',
            'east',
            'south',
            'south',
            'west',
            'east',
            'south',
            'north',
            'east',
            'west',
            'south',
            'south',
            'north',
            'west',
            'south',
            'north',
            'east',
            'west',
            'west',
            'south',
            'south',
            'east',
            'west',
            'south',
            'south',
            'south',
            'west',
            'east',
            'west',
            'north',
            'east',
            'west',
            'north',
            'west',
            'west',
            'south',
            'south',
            'south',
            'east',
            'south',
            'west',
            'south',
            'south',
            'east',
            'south',
            'east',
            'east',
            'north',
            'north',
            'east',
            'north',
            'south',
            'east'
        ]

        var range = 15;
        var size = 10;

        var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');

        canvas.width = size * (range * 2 + 1);
        canvas.height = size * (range * 2 + 1);

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        function walls() {
            context.fillStyle = 'black';
            for (var i = 0; i < maze.length; i++)
                context.fillRect(maze[i].x * size, maze[i].y * size, size, size);
        }

        function goal() {
            context.fillStyle = 'red';
            context.fillRect(range * size, range * size, size, size);
        }

        async function step(i) {
            context.fillStyle = 'blue';
            var nx = x;
            var ny = y;
            switch (steps[i]) {
                case 'north':
                    ny -= 1;
                    break;
                case 'east':
                    nx += 1;
                    break;
                case 'south':
                    ny += 1;
                    break;
                case 'west':
                    nx -= 1;
                    break;
                default:
                    return;
            }
            if (!maze.some(e => { return e.x == nx && e.y == ny })) {
                context.clearRect(x * size, y * size, size, size);
                x = nx;
                y = ny;
                context.fillStyle = 'blue';
                context.fillRect(x * size, y * size, size, size);
                await sleep(200);
            }
        }

        async function run() {
            context.fillStyle = 'blue';
            context.fillRect(x * size, y * size, size, size);
            for (var i = 0; i < steps.length; i++) {
                walls();
                goal();
                await step(i);
            }
        }

        var x = 2 + range;
        var y = -10 + range;
        run();

    </script>
</body>

</html>